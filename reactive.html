<!doctype html>
<html>
<meta charset="utf-8">
<head>
   <base href="/Escher.jl/">
   <script> !function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require){var VNode=require("vtree/vnode"),svg=require("virtual-hyperscript/svg"),VText=require("vtree/vtext"),VPatch=require("vtree/vpatch"),diff=require("virtual-dom/diff"),patch=require("virtual-dom/patch"),createElement=require("virtual-dom/create-element"),nodeIndex=require("./node-index"),patchVNode=require("./patch-vnode"),isArray=require("x-is-array"),isVPatch=require("./is-vpatch"),P=Patchwork={nodes:{},debug:!1,Node:function(id,jlNode){if(el=document.getElementById(id),this.id=id,jlNode){var vnode=P.makeVNode(jlNode);P.log("makeVNode: ",jlNode,"=>",vnode),this.mount(vnode,el)}P.nodes[id]=this},NAMESPACES:{xhtml:null,svg:"http://www.w3.org/2000/svg","null":null,undefined:null},refDiff:function(a,b,p){var a=P.makeVNode(a);b=P.makeVNode(b),p=P.makeVPatches(a,p),console.log(p,diff(a,b))},massageProps:function(props){if("attributes"in props){console.log("attributes ",props.attributes);for(var attr in props.attributes)props.attributes.hasOwnProperty(attr)&&null===props.attributes[attr]&&(console.log("remove ",attr,props.attributes[attr]),props.attributes[attr]=void 0)}return props},makeVNode:function(jlNode){if("txt"in jlNode)return new VText(jlNode.txt);var children=[],props=P.massageProps(jlNode.p||{});if(jlNode.c)for(var i=0,l=jlNode.c.length;l>i;i++)children[i]=P.makeVNode(jlNode.c[i]);if("svg"===jlNode.n)return svg(jlNode.t,props,children);var key=null;return props&&props.key&&(key=props.key,delete props.key),new VNode(jlNode.t,props,children,key,P.NAMESPACES[jlNode.n])},makeVPatches:function(root,jlPatches){var indices=[],vpatches={a:root};for(var idx in jlPatches)indices.push(Number(idx));nodes=nodeIndex(root,indices);for(var idx in jlPatches)vpatches[idx]=P.makeVPatch(nodes[idx],jlPatches[idx]);return vpatches},makeVPatch:function(vnode,jlPatch){function vpatch(p){return new VPatch(type,vnode,p)}if(isArray(jlPatch)){for(var ps=[],i=0,l=jlPatch.length;l>i;i++)ps[i]=P.makeVPatch(vnode,jlPatch[i]);return ps}var type,patch;for(var k in jlPatch){type=k,patch=jlPatch[k];break}switch(Number(type)){case VPatch.VTEXT:return vpatch(new VText(patch));case VPatch.VNODE:return vpatch(P.makeVNode(patch));case VPatch.PROPS:return patch=P.massageProps(patch),vnode.namespace===P.NAMESPACES.svg&&(patch=svg("dummy",patch,[]).properties),vpatch(patch);case VPatch.ORDER:return vpatch(patch);case VPatch.INSERT:return vpatch(P.makeVNode(patch));case VPatch.REMOVE:return vpatch(null);default:return null}},log:function(){console&&P.debug&&console.log.apply(console,arguments)}};Patchwork.Node.prototype={mount:function(vnode,outer){var el=createElement(vnode);return P.log("createElement: ",vnode,"=>",el),outer.appendChild(el),this.element=el,this.root=vnode,el},applyPatch:function(vpatches){isVPatch(vpatches)||(vpatches=P.makeVPatches(this.root,vpatches)),this.element=patch(this.element,vpatches),this.root=patchVNode(this.root,vpatches)}},IPython&&jQuery&&$(document).ready(function(){var commMgr=IPython.notebook.kernel.comm_manager;commMgr.register_target("PatchStream",function(comm,msg){var nodeId=msg.content.data.pwid;comm.on_msg(function(msg){var node=P.nodes[nodeId],patches=msg.content.data;node.applyPatch(patches),P.log("received patches",patches)})})}),window.Patchwork=Patchwork},{"./is-vpatch":2,"./node-index":3,"./patch-vnode":57,"virtual-dom/create-element":5,"virtual-dom/diff":6,"virtual-dom/patch":23,"virtual-hyperscript/svg":47,"vtree/vnode":52,"vtree/vpatch":53,"vtree/vtext":54,"x-is-array":55}],2:[function(require,module){function isVirtualPatch(x){return x&&"VirtualPatch"===x.type&&x.version===version}var version=require("vtree/version");module.exports=isVirtualPatch},{"vtree/version":51}],3:[function(require,module){function nodeIndex(tree,indices,nodes){return indices&&0!==indices.length?(indices.sort(ascending),recurse(tree,indices,nodes,0)):{}}function recurse(tree,indices,nodes,rootIndex){if(nodes=nodes||{},tree){indexInRange(indices,rootIndex,rootIndex)&&(nodes[rootIndex]=tree);var vChildren=tree.children;if(vChildren)for(var i=0;i<vChildren.length;i++){rootIndex+=1;var vChild=vChildren[i],nextIndex=rootIndex+(vChild.count||0);indexInRange(indices,rootIndex,nextIndex)&&recurse(vChild,indices,nodes,rootIndex),rootIndex=nextIndex}}return nodes}function indexInRange(indices,left,right){if(0===indices.length)return!1;for(var currentIndex,currentItem,minIndex=0,maxIndex=indices.length-1;maxIndex>=minIndex;){if(currentIndex=(maxIndex+minIndex)/2>>0,currentItem=indices[currentIndex],minIndex===maxIndex)return currentItem>=left&&right>=currentItem;if(left>currentItem)minIndex=currentIndex+1;else{if(!(currentItem>right))return!0;maxIndex=currentIndex-1}}return!1}function ascending(a,b){return a>b?1:-1}module.exports=nodeIndex},{}],4:[function(require,module){function isObject(x){return"object"==typeof x&&null!==x}module.exports=isObject},{}],5:[function(require,module){var createElement=require("vdom/create-element");module.exports=createElement},{"vdom/create-element":8}],6:[function(require,module){var diff=require("vtree/diff");module.exports=diff},{"vtree/diff":14}],7:[function(require,module){function applyProperties(node,props,previous){for(var propName in props){var propValue=props[propName];void 0===propValue?removeProperty(node,props,previous,propName):isHook(propValue)?propValue.hook(node,propName,previous?previous[propName]:void 0):isObject(propValue)?patchObject(node,props,previous,propName,propValue):void 0!==propValue&&(node[propName]=propValue)}}function removeProperty(node,props,previous,propName){if(previous){var previousValue=previous[propName];if(!isHook(previousValue))if("attributes"===propName)for(var attrName in previousValue)node.removeAttribute(attrName);else if("style"===propName)for(var i in previousValue)node.style[i]="";else node[propName]="string"==typeof previousValue?"":null}}function patchObject(node,props,previous,propName,propValue){var previousValue=previous?previous[propName]:void 0;if("attributes"!==propName){if(previousValue&&isObject(previousValue)&&getPrototype(previousValue)!==getPrototype(propValue))return void(node[propName]=propValue);isObject(node[propName])||(node[propName]={});var replacer="style"===propName?"":void 0;for(var k in propValue){var value=propValue[k];node[propName][k]=void 0===value?replacer:value}}else for(var attrName in propValue){var attrValue=propValue[attrName];void 0===attrValue?node.removeAttribute(attrName):node.setAttribute(attrName,attrValue)}}function getPrototype(value){return Object.getPrototypeOf?Object.getPrototypeOf(value):value.__proto__?value.__proto__:value.constructor?value.constructor.prototype:void 0}var isObject=require("is-object"),isHook=require("vtree/is-vhook");module.exports=applyProperties},{"is-object":4,"vtree/is-vhook":17}],8:[function(require,module){function createElement(vnode,opts){var doc=opts?opts.document||document:document,warn=opts?opts.warn:null;if(vnode=handleThunk(vnode).a,isWidget(vnode))return vnode.init();if(isVText(vnode))return doc.createTextNode(vnode.text);if(!isVNode(vnode))return warn&&warn("Item is not a valid virtual dom node",vnode),null;var node=null===vnode.namespace?doc.createElement(vnode.tagName):doc.createElementNS(vnode.namespace,vnode.tagName),props=vnode.properties;applyProperties(node,props);for(var children=vnode.children,i=0;i<children.length;i++){var childNode=createElement(children[i],opts);childNode&&node.appendChild(childNode)}return node}var document=require("global/document"),applyProperties=require("./apply-properties"),isVNode=require("vtree/is-vnode"),isVText=require("vtree/is-vtext"),isWidget=require("vtree/is-widget"),handleThunk=require("vtree/handle-thunk");module.exports=createElement},{"./apply-properties":7,"global/document":10,"vtree/handle-thunk":15,"vtree/is-vnode":18,"vtree/is-vtext":19,"vtree/is-widget":20}],9:[function(require,module){function domIndex(rootNode,tree,indices,nodes){return indices&&0!==indices.length?(indices.sort(ascending),recurse(rootNode,tree,indices,nodes,0)):{}}function recurse(rootNode,tree,indices,nodes,rootIndex){if(nodes=nodes||{},rootNode){indexInRange(indices,rootIndex,rootIndex)&&(nodes[rootIndex]=rootNode);var vChildren=tree.children;if(vChildren)for(var childNodes=rootNode.childNodes,i=0;i<tree.children.length;i++){rootIndex+=1;var vChild=vChildren[i]||noChild,nextIndex=rootIndex+(vChild.count||0);indexInRange(indices,rootIndex,nextIndex)&&recurse(childNodes[i],vChild,indices,nodes,rootIndex),rootIndex=nextIndex}}return nodes}function indexInRange(indices,left,right){if(0===indices.length)return!1;for(var currentIndex,currentItem,minIndex=0,maxIndex=indices.length-1;maxIndex>=minIndex;){if(currentIndex=(maxIndex+minIndex)/2>>0,currentItem=indices[currentIndex],minIndex===maxIndex)return currentItem>=left&&right>=currentItem;if(left>currentItem)minIndex=currentIndex+1;else{if(!(currentItem>right))return!0;maxIndex=currentIndex-1}}return!1}function ascending(a,b){return a>b?1:-1}var noChild={};module.exports=domIndex},{}],10:[function(require,module){(function(global){var topLevel="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},minDoc=require("min-document");if("undefined"!=typeof document)module.exports=document;else{var doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"];doccy||(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc),module.exports=doccy}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":59}],11:[function(require,module){function applyPatch(vpatch,domNode,renderOptions){var type=vpatch.type,vNode=vpatch.vNode,patch=vpatch.patch;switch(type){case VPatch.REMOVE:return removeNode(domNode,vNode);case VPatch.INSERT:return insertNode(domNode,patch,renderOptions);case VPatch.VTEXT:return stringPatch(domNode,vNode,patch,renderOptions);case VPatch.WIDGET:return widgetPatch(domNode,vNode,patch,renderOptions);case VPatch.VNODE:return vNodePatch(domNode,vNode,patch,renderOptions);case VPatch.ORDER:return reorderChildren(domNode,patch),domNode;case VPatch.PROPS:return applyProperties(domNode,patch,vNode.properties),domNode;case VPatch.THUNK:return replaceRoot(domNode,renderOptions.patch(domNode,patch,renderOptions));default:return domNode}}function removeNode(domNode,vNode){var parentNode=domNode.parentNode;return parentNode&&parentNode.removeChild(domNode),destroyWidget(domNode,vNode),null}function insertNode(parentNode,vNode,renderOptions){var newNode=render(vNode,renderOptions);return parentNode&&parentNode.appendChild(newNode),parentNode}function stringPatch(domNode,leftVNode,vText,renderOptions){var newNode;if(3===domNode.nodeType)domNode.replaceData(0,domNode.length,vText.text),newNode=domNode;else{var parentNode=domNode.parentNode;newNode=render(vText,renderOptions),parentNode&&parentNode.replaceChild(newNode,domNode)}return destroyWidget(domNode,leftVNode),newNode}function widgetPatch(domNode,leftVNode,widget,renderOptions){if(updateWidget(leftVNode,widget))return widget.update(leftVNode,domNode)||domNode;var parentNode=domNode.parentNode,newWidget=render(widget,renderOptions);return parentNode&&parentNode.replaceChild(newWidget,domNode),destroyWidget(domNode,leftVNode),newWidget}function vNodePatch(domNode,leftVNode,vNode,renderOptions){var parentNode=domNode.parentNode,newNode=render(vNode,renderOptions);return parentNode&&parentNode.replaceChild(newNode,domNode),destroyWidget(domNode,leftVNode),newNode}function destroyWidget(domNode,w){"function"==typeof w.destroy&&isWidget(w)&&w.destroy(domNode)}function reorderChildren(domNode,bIndex){var i,children=[],childNodes=domNode.childNodes,len=childNodes.length,reverseIndex=bIndex.reverse;for(i=0;len>i;i++)children.push(domNode.childNodes[i]);var move,node,insertNode,insertOffset=0;for(i=0;len>i;i++)move=bIndex[i],void 0!==move&&move!==i&&(reverseIndex[i]>i&&insertOffset++,node=children[move],insertNode=childNodes[i+insertOffset]||null,node!==insertNode&&domNode.insertBefore(node,insertNode),i>move&&insertOffset--),i in bIndex.removes&&insertOffset++}function replaceRoot(oldRoot,newRoot){return oldRoot&&newRoot&&oldRoot!==newRoot&&oldRoot.parentNode&&(console.log(oldRoot),oldRoot.parentNode.replaceChild(newRoot,oldRoot)),newRoot}var applyProperties=require("./apply-properties"),isWidget=require("vtree/is-widget"),VPatch=require("vtree/vpatch"),render=require("./create-element"),updateWidget=require("./update-widget");module.exports=applyPatch},{"./apply-properties":7,"./create-element":8,"./update-widget":13,"vtree/is-widget":20,"vtree/vpatch":22}],12:[function(require,module){function patch(rootNode,patches){return patchRecursive(rootNode,patches)}function patchRecursive(rootNode,patches,renderOptions){var indices=patchIndices(patches);if(0===indices.length)return rootNode;var index=domIndex(rootNode,patches.a,indices),ownerDocument=rootNode.ownerDocument;renderOptions||(renderOptions={patch:patchRecursive},ownerDocument!==document&&(renderOptions.document=ownerDocument));for(var i=0;i<indices.length;i++){var nodeIndex=indices[i];rootNode=applyPatch(rootNode,index[nodeIndex],patches[nodeIndex],renderOptions)}return rootNode}function applyPatch(rootNode,domNode,patchList,renderOptions){if(!domNode)return rootNode;var newNode;if(isArray(patchList))for(var i=0;i<patchList.length;i++)newNode=patchOp(patchList[i],domNode,renderOptions),domNode===rootNode&&(rootNode=newNode);else newNode=patchOp(patchList,domNode,renderOptions),domNode===rootNode&&(rootNode=newNode);return rootNode}function patchIndices(patches){var indices=[];for(var key in patches)"a"!==key&&indices.push(Number(key));return indices}var document=require("global/document"),isArray=require("x-is-array"),domIndex=require("./dom-index"),patchOp=require("./patch-op");module.exports=patch},{"./dom-index":9,"./patch-op":11,"global/document":10,"x-is-array":55}],13:[function(require,module){function updateWidget(a,b){return isWidget(a)&&isWidget(b)?"name"in a&&"name"in b?a.id===b.id:a.init===b.init:!1}var isWidget=require("vtree/is-widget");module.exports=updateWidget},{"vtree/is-widget":20}],14:[function(require,module){function diff(a,b){var patch={a:a};return walk(a,b,patch,0),patch}function walk(a,b,patch,index){if(a===b)return void(isThunk(a)||isThunk(b)?thunks(a,b,patch,index):hooks(b,patch,index));var apply=patch[index];if(null==b)apply=appendPatch(apply,new VPatch(VPatch.REMOVE,a,b)),destroyWidgets(a,patch,index);else if(isThunk(a)||isThunk(b))thunks(a,b,patch,index);else if(isVNode(b))if(isVNode(a))if(a.tagName===b.tagName&&a.namespace===b.namespace&&a.key===b.key){var propsPatch=diffProps(a.properties,b.properties,b.hooks);propsPatch&&(apply=appendPatch(apply,new VPatch(VPatch.PROPS,a,propsPatch))),apply=diffChildren(a,b,patch,apply,index)}else apply=appendPatch(apply,new VPatch(VPatch.VNODE,a,b)),destroyWidgets(a,patch,index);else apply=appendPatch(apply,new VPatch(VPatch.VNODE,a,b)),destroyWidgets(a,patch,index);else isVText(b)?isVText(a)?a.text!==b.text&&(apply=appendPatch(apply,new VPatch(VPatch.VTEXT,a,b))):(apply=appendPatch(apply,new VPatch(VPatch.VTEXT,a,b)),destroyWidgets(a,patch,index)):isWidget(b)&&(apply=appendPatch(apply,new VPatch(VPatch.WIDGET,a,b)),isWidget(a)||destroyWidgets(a,patch,index));apply&&(patch[index]=apply)}function diffProps(a,b,hooks){var diff;for(var aKey in a){aKey in b||(diff=diff||{},diff[aKey]=void 0);var aValue=a[aKey],bValue=b[aKey];if(hooks&&aKey in hooks)diff=diff||{},diff[aKey]=bValue;else if(isObject(aValue)&&isObject(bValue))if(getPrototype(bValue)!==getPrototype(aValue))diff=diff||{},diff[aKey]=bValue;else{var objectDiff=diffProps(aValue,bValue);objectDiff&&(diff=diff||{},diff[aKey]=objectDiff)}else aValue!==bValue&&(diff=diff||{},diff[aKey]=bValue)}for(var bKey in b)bKey in a||(diff=diff||{},diff[bKey]=b[bKey]);return diff}function getPrototype(value){return Object.getPrototypeOf?Object.getPrototypeOf(value):value.__proto__?value.__proto__:value.constructor?value.constructor.prototype:void 0}function diffChildren(a,b,patch,apply,index){for(var aChildren=a.children,bChildren=reorder(aChildren,b.children),aLen=aChildren.length,bLen=bChildren.length,len=aLen>bLen?aLen:bLen,i=0;len>i;i++){var leftNode=aChildren[i],rightNode=bChildren[i];index+=1,leftNode?rightNode?walk(leftNode,rightNode,patch,index):leftNode&&(patch[index]=new VPatch(VPatch.REMOVE,leftNode,null),destroyWidgets(leftNode,patch,index)):rightNode&&(apply=appendPatch(apply,new VPatch(VPatch.INSERT,null,rightNode))),isVNode(leftNode)&&leftNode.count&&(index+=leftNode.count)}return bChildren.moves&&(apply=appendPatch(apply,new VPatch(VPatch.ORDER,a,bChildren.moves))),apply}function destroyWidgets(vNode,patch,index){if(isWidget(vNode))"function"==typeof vNode.destroy&&(patch[index]=new VPatch(VPatch.REMOVE,vNode,null));else if(isVNode(vNode)&&vNode.hasWidgets)for(var children=vNode.children,len=children.length,i=0;len>i;i++){var child=children[i];index+=1,destroyWidgets(child,patch,index),isVNode(child)&&child.count&&(index+=child.count)}}function thunks(a,b,patch,index){var nodes=handleThunk(a,b),thunkPatch=diff(nodes.a,nodes.b);hasPatches(thunkPatch)&&(patch[index]=new VPatch(VPatch.THUNK,null,thunkPatch))}function hasPatches(patch){for(var index in patch)if("a"!==index)return!0;return!1}function hooks(vNode,patch,index){if(isVNode(vNode)&&(vNode.hooks&&(patch[index]=new VPatch(VPatch.PROPS,vNode.hooks,vNode.hooks)),vNode.descendantHooks))for(var children=vNode.children,len=children.length,i=0;len>i;i++){var child=children[i];index+=1,hooks(child,patch,index),isVNode(child)&&child.count&&(index+=child.count)}}function reorder(aChildren,bChildren){var bKeys=keyIndex(bChildren);if(!bKeys)return bChildren;var aKeys=keyIndex(aChildren);if(!aKeys)return bChildren;var bMatch={},aMatch={};for(var key in bKeys)bMatch[bKeys[key]]=aKeys[key];for(var key in aKeys)aMatch[aKeys[key]]=bKeys[key];for(var aLen=aChildren.length,bLen=bChildren.length,len=aLen>bLen?aLen:bLen,shuffle=[],freeIndex=0,i=0,moveIndex=0,moves={},removes=moves.removes={},reverse=moves.reverse={},hasMoves=!1;len>freeIndex;){var move=aMatch[i];if(void 0!==move)shuffle[i]=bChildren[move],move!==moveIndex&&(moves[move]=moveIndex,reverse[moveIndex]=move,hasMoves=!0),moveIndex++;else if(i in aMatch)shuffle[i]=void 0,removes[i]=moveIndex++,hasMoves=!0;else{for(;void 0!==bMatch[freeIndex];)freeIndex++;if(len>freeIndex){var freeChild=bChildren[freeIndex];freeChild&&(shuffle[i]=freeChild,freeIndex!==moveIndex&&(hasMoves=!0,moves[freeIndex]=moveIndex,reverse[moveIndex]=freeIndex),moveIndex++),freeIndex++}}i++}return hasMoves&&(shuffle.moves=moves),shuffle}function keyIndex(children){var i,keys;for(i=0;i<children.length;i++){var child=children[i];void 0!==child.key&&(keys=keys||{},keys[child.key]=i)}return keys}function appendPatch(apply,patch){return apply?(isArray(apply)?apply.push(patch):apply=[apply,patch],apply):patch}var isArray=require("x-is-array"),isObject=require("is-object"),VPatch=require("./vpatch"),isVNode=require("./is-vnode"),isVText=require("./is-vtext"),isWidget=require("./is-widget"),isThunk=require("./is-thunk"),handleThunk=require("./handle-thunk");module.exports=diff},{"./handle-thunk":15,"./is-thunk":16,"./is-vnode":18,"./is-vtext":19,"./is-widget":20,"./vpatch":22,"is-object":4,"x-is-array":55}],15:[function(require,module){function handleThunk(a,b){var renderedA=a,renderedB=b;return isThunk(b)&&(renderedB=renderThunk(b,a)),isThunk(a)&&(renderedA=renderThunk(a,null)),{a:renderedA,b:renderedB}}function renderThunk(thunk,previous){var renderedThunk=thunk.vnode;if(renderedThunk||(renderedThunk=thunk.vnode=thunk.render(previous)),!(isVNode(renderedThunk)||isVText(renderedThunk)||isWidget(renderedThunk)))throw new Error("thunk did not return a valid node");return renderedThunk}var isVNode=require("./is-vnode"),isVText=require("./is-vtext"),isWidget=require("./is-widget"),isThunk=require("./is-thunk");module.exports=handleThunk},{"./is-thunk":16,"./is-vnode":18,"./is-vtext":19,"./is-widget":20}],16:[function(require,module){function isThunk(t){return t&&"Thunk"===t.type}module.exports=isThunk},{}],17:[function(require,module){function isHook(hook){return hook&&"function"==typeof hook.hook&&!hook.hasOwnProperty("hook")}module.exports=isHook},{}],18:[function(require,module){function isVirtualNode(x){return x&&"VirtualNode"===x.type&&x.version===version}var version=require("./version");module.exports=isVirtualNode},{"./version":21}],19:[function(require,module){function isVirtualText(x){return x&&"VirtualText"===x.type&&x.version===version}var version=require("./version");module.exports=isVirtualText},{"./version":21}],20:[function(require,module){function isWidget(w){return w&&"Widget"===w.type}module.exports=isWidget},{}],21:[function(require,module){module.exports="1"},{}],22:[function(require,module){function VirtualPatch(type,vNode,patch){this.type=Number(type),this.vNode=vNode,this.patch=patch}var version=require("./version");VirtualPatch.NONE=0,VirtualPatch.VTEXT=1,VirtualPatch.VNODE=2,VirtualPatch.WIDGET=3,VirtualPatch.PROPS=4,VirtualPatch.ORDER=5,VirtualPatch.INSERT=6,VirtualPatch.REMOVE=7,VirtualPatch.THUNK=8,module.exports=VirtualPatch,VirtualPatch.prototype.version=version,VirtualPatch.prototype.type="VirtualPatch"},{"./version":21}],23:[function(require,module){var patch=require("vdom/patch");module.exports=patch},{"vdom/patch":12}],24:[function(require,module){function AttributeHook(value){return this instanceof AttributeHook?void(this.value=value):new AttributeHook(value)}module.exports=AttributeHook,AttributeHook.prototype.hook=function(node,prop,prev){prev&&prev.value===this.value||node.setAttributeNS(null,prop,this.value)}},{}],25:[function(require,module){function DataSetHook(value){return this instanceof DataSetHook?void(this.value=value):new DataSetHook(value)}var DataSet=require("data-set");module.exports=DataSetHook,DataSetHook.prototype.hook=function(node,propertyName){var ds=DataSet(node),propName=propertyName.substr(5);ds[propName]=this.value}},{"data-set":30}],26:[function(require,module){function DataSetHook(value){return this instanceof DataSetHook?void(this.value=value):new DataSetHook(value)}var DataSet=require("data-set");module.exports=DataSetHook,DataSetHook.prototype.hook=function(node,propertyName){var ds=DataSet(node),propName=propertyName.substr(3);ds[propName]=this.value}},{"data-set":30}],27:[function(require,module){function SoftSetHook(value){return this instanceof SoftSetHook?void(this.value=value):new SoftSetHook(value)}module.exports=SoftSetHook,SoftSetHook.prototype.hook=function(node,propertyName){node[propertyName]!==this.value&&(node[propertyName]=this.value)}},{}],28:[function(require,module){function h(tagName,properties,children){var tag,props,key,namespace,childNodes=[];!children&&isChildren(properties)&&(children=properties,props={}),props=props||properties||{},tag=parseTag(tagName,props),"key"in props&&(key=props.key,props.key=void 0),"namespace"in props&&(namespace=props.namespace,props.namespace=void 0),"input"===tag&&"value"in props&&void 0!==props.value&&!isHook(props.value)&&(props.value=softSetHook(props.value));for(var propName,value,keys=Object.keys(props),j=0;j<keys.length;j++)propName=keys[j],value=props[propName],isHook(value)||("data-"===propName.substr(0,5)&&(props[propName]=dataSetHook(value)),"ev-"===propName.substr(0,3)&&(props[propName]=evHook(value)));void 0!==children&&null!==children&&addChild(children,childNodes,tag,props);var node=new VNode(tag,props,childNodes,key,namespace);return node}function addChild(c,childNodes,tag,props){if("string"==typeof c)childNodes.push(new VText(c));else if(isChild(c))childNodes.push(c);else{if(!Array.isArray(c)){if(null===c||void 0===c)return;throw UnexpectedVirtualElement({foreignObjectStr:JSON.stringify(c),foreignObject:c,parentVnodeStr:JSON.stringify({tagName:tag,properties:props}),parentVnode:{tagName:tag,properties:props}})}for(var i=0;i<c.length;i++)addChild(c[i],childNodes,tag,props)}}function isChild(x){return isVNode(x)||isVText(x)||isWidget(x)||isVThunk(x)}function isChildren(x){return"string"==typeof x||Array.isArray(x)||isChild(x)}var VNode=require("vtree/vnode.js"),VText=require("vtree/vtext.js"),isVNode=require("vtree/is-vnode"),isVText=require("vtree/is-vtext"),isWidget=require("vtree/is-widget"),isHook=require("vtree/is-vhook"),isVThunk=require("vtree/is-thunk"),TypedError=require("error/typed"),parseTag=require("./parse-tag.js"),softSetHook=require("./hooks/soft-set-hook.js"),dataSetHook=require("./hooks/data-set-hook.js"),evHook=require("./hooks/ev-hook.js"),UnexpectedVirtualElement=TypedError({type:"virtual-hyperscript.unexpected.virtual-element",message:"Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot a {foreignObjectStr}.\nThe parent vnode is {parentVnodeStr}.\nSuggested fix: change your `h(..., [ ... ])` callsite.",foreignObjectStr:null,parentVnodeStr:null,foreignObject:null,parentVnode:null});module.exports=h},{"./hooks/data-set-hook.js":25,"./hooks/ev-hook.js":26,"./hooks/soft-set-hook.js":27,"./parse-tag.js":46,"error/typed":37,"vtree/is-thunk":38,"vtree/is-vhook":39,"vtree/is-vnode":40,"vtree/is-vtext":41,"vtree/is-widget":42,"vtree/vnode.js":44,"vtree/vtext.js":45}],29:[function(require,module){function createHash(elem){var attributes=elem.attributes,hash={};if(null===attributes||void 0===attributes)return hash;for(var i=0;i<attributes.length;i++){var attr=attributes[i];"data-"===attr.name.substr(0,5)&&(hash[attr.name.substr(5)]=attr.value)}return hash}module.exports=createHash},{}],30:[function(require,module){function DataSet(elem){var store=hashStore(elem);return store.hash||(store.hash=createHash(elem)),store.hash}var createStore=require("weakmap-shim/create-store"),Individual=require("individual"),createHash=require("./create-hash.js"),hashStore=Individual("__DATA_SET_WEAKMAP@3",createStore());module.exports=DataSet},{"./create-hash.js":29,individual:31,"weakmap-shim/create-store":32}],31:[function(require,module){(function(global){function Individual(key,value){return root[key]?root[key]:(Object.defineProperty(root,key,{value:value,configurable:!0}),value)}var root="undefined"!=typeof window?window:"undefined"!=typeof global?global:{};module.exports=Individual}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(require,module){function createStore(){var key={};return function(obj){if("object"!=typeof obj||null===obj)throw new Error("Weakmap-shim: Key must be object");var store=obj.valueOf(key);return store&&store.identity===key?store:hiddenStore(obj,key)}}var hiddenStore=require("./hidden-store.js");module.exports=createStore},{"./hidden-store.js":33}],33:[function(require,module){function hiddenStore(obj,key){var store={identity:key},valueOf=obj.valueOf;return Object.defineProperty(obj,"valueOf",{value:function(value){return value!==key?valueOf.apply(this,arguments):store},writable:!0}),store}module.exports=hiddenStore},{}],34:[function(require,module){function walk(obj){return obj&&"object"==typeof obj?isDate(obj)||isRegex(obj)?obj:isArray(obj)?map(obj,walk):reduce(objectKeys(obj),function(acc,key){var camel=camelCase(key);return acc[camel]=walk(obj[key]),acc},{}):obj}function camelCase(str){return str.replace(/[_.-](\w|$)/g,function(_,x){return x.toUpperCase()})}function map(xs,f){if(xs.map)return xs.map(f);for(var res=[],i=0;i<xs.length;i++)res.push(f(xs[i],i));return res}function reduce(xs,f,acc){if(xs.reduce)return xs.reduce(f,acc);for(var i=0;i<xs.length;i++)acc=f(acc,xs[i],i);return acc}module.exports=function(obj){return"string"==typeof obj?camelCase(obj):walk(obj)};var isArray=Array.isArray||function(obj){return"[object Array]"===Object.prototype.toString.call(obj)},isDate=function(obj){return"[object Date]"===Object.prototype.toString.call(obj)},isRegex=function(obj){return"[object RegExp]"===Object.prototype.toString.call(obj)},has=Object.prototype.hasOwnProperty,objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)has.call(obj,key)&&keys.push(key);return keys}},{}],35:[function(require,module){function template(string){var args;return args=2===arguments.length&&"object"==typeof arguments[1]?arguments[1]:slice.call(arguments,1),args&&args.hasOwnProperty||(args={}),string.replace(nargs,function(match,i,index){var result;return"{"===string[index-1]&&"}"===string[index+match.length]?i:(result=args.hasOwnProperty(i)?args[i]:null,null===result||void 0===result?"":result)})}var nargs=/\{([0-9a-zA-Z]+)\}/g,slice=Array.prototype.slice;module.exports=template},{}],36:[function(require,module){function extend(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)source.hasOwnProperty(key)&&(target[key]=source[key])}return target}module.exports=extend},{}],37:[function(require,module){function TypedError(args){function createError(opts){var result=new Error;Object.defineProperty(result,"type",{value:result.type,enumerable:!0,writable:!0,configurable:!0});var options=extend({},args,opts);return extend(result,options),result.message=template(message,options),result}if(!args)throw new Error("args is required");if(!args.type)throw new Error("args.type is required");if(!args.message)throw new Error("args.message is required");var message=args.message;if(args.type&&!args.name){var errorName=camelize(args.type)+"Error";args.name=errorName[0].toUpperCase()+errorName.substr(1)}return createError.type=args.type,createError._name=args.name,createError}var camelize=require("camelize"),template=require("string-template"),extend=require("xtend/mutable");module.exports=TypedError},{camelize:34,"string-template":35,"xtend/mutable":36}],38:[function(require,module){module.exports=require(16)},{"/home/shashi/.julia/v0.3/Patchwork/runtime/node_modules/virtual-dom/node_modules/vtree/is-thunk.js":16}],39:[function(require,module){module.exports=require(17)},{"/home/shashi/.julia/v0.3/Patchwork/runtime/node_modules/virtual-dom/node_modules/vtree/is-vhook.js":17}],40:[function(require,module){module.exports=require(18)},{"./version":43,"/home/shashi/.julia/v0.3/Patchwork/runtime/node_modules/virtual-dom/node_modules/vtree/is-vnode.js":18}],41:[function(require,module){module.exports=require(19)},{"./version":43,"/home/shashi/.julia/v0.3/Patchwork/runtime/node_modules/virtual-dom/node_modules/vtree/is-vtext.js":19}],42:[function(require,module){module.exports=require(20)},{"/home/shashi/.julia/v0.3/Patchwork/runtime/node_modules/virtual-dom/node_modules/vtree/is-widget.js":20}],43:[function(require,module){module.exports=require(21)},{"/home/shashi/.julia/v0.3/Patchwork/runtime/node_modules/virtual-dom/node_modules/vtree/version.js":21}],44:[function(require,module){function VirtualNode(tagName,properties,children,key,namespace){this.tagName=tagName,this.properties=properties||noProperties,this.children=children||noChildren,this.key=null!=key?String(key):void 0,this.namespace="string"==typeof namespace?namespace:null;var hooks,count=children&&children.length||0,descendants=0,hasWidgets=!1,descendantHooks=!1;for(var propName in properties)if(properties.hasOwnProperty(propName)){var property=properties[propName];isVHook(property)&&(hooks||(hooks={}),hooks[propName]=property)}for(var i=0;count>i;i++){var child=children[i];isVNode(child)?(descendants+=child.count||0,!hasWidgets&&child.hasWidgets&&(hasWidgets=!0),descendantHooks||!child.hooks&&!child.descendantHooks||(descendantHooks=!0)):!hasWidgets&&isWidget(child)&&"function"==typeof child.destroy&&(hasWidgets=!0)}this.count=count+descendants,this.hasWidgets=hasWidgets,this.hooks=hooks,this.descendantHooks=descendantHooks
}var version=require("./version"),isVNode=require("./is-vnode"),isWidget=require("./is-widget"),isVHook=require("./is-vhook");module.exports=VirtualNode;var noProperties={},noChildren=[];VirtualNode.prototype.version=version,VirtualNode.prototype.type="VirtualNode"},{"./is-vhook":39,"./is-vnode":40,"./is-widget":42,"./version":43}],45:[function(require,module){function VirtualText(text){this.text=String(text)}var version=require("./version");module.exports=VirtualText,VirtualText.prototype.version=version,VirtualText.prototype.type="VirtualText"},{"./version":43}],46:[function(require,module){function parseTag(tag,props){if(!tag)return"div";var noId=!("id"in props),tagParts=tag.split(classIdSplit),tagName=null;notClassId.test(tagParts[1])&&(tagName="div");var classes,part,type,i;for(i=0;i<tagParts.length;i++)part=tagParts[i],part&&(type=part.charAt(0),tagName?"."===type?(classes=classes||[],classes.push(part.substring(1,part.length))):"#"===type&&noId&&(props.id=part.substring(1,part.length)):tagName=part);return classes&&(props.className&&classes.push(props.className),props.className=classes.join(" ")),tagName?tagName.toLowerCase():"div"}var classIdSplit=/([\.#]?[a-zA-Z0-9_:-]+)/,notClassId=/^\.|#/;module.exports=parseTag},{}],47:[function(require,module){function svg(tagName,properties,children){!children&&isChildren(properties)&&(children=properties,properties={}),properties=properties||{},properties.namespace=SVG_NAMESPACE;for(var key in properties)if(properties.hasOwnProperty(key)&&!BLACKLISTED_KEYS[key]){var value=properties[key];("string"==typeof value||"number"==typeof value||"boolean"==typeof value)&&(properties[key]=attributeHook(value))}return h(tagName,properties,children)}function isChildren(x){return"string"==typeof x||Array.isArray(x)}var attributeHook=require("./hooks/attribute-hook.js"),h=require("./index.js"),BLACKLISTED_KEYS={style:!0,namespace:!0,key:!0},SVG_NAMESPACE="http://www.w3.org/2000/svg";module.exports=svg},{"./hooks/attribute-hook.js":24,"./index.js":28}],48:[function(require,module){module.exports=require(17)},{"/home/shashi/.julia/v0.3/Patchwork/runtime/node_modules/virtual-dom/node_modules/vtree/is-vhook.js":17}],49:[function(require,module){module.exports=require(18)},{"./version":51,"/home/shashi/.julia/v0.3/Patchwork/runtime/node_modules/virtual-dom/node_modules/vtree/is-vnode.js":18}],50:[function(require,module){module.exports=require(20)},{"/home/shashi/.julia/v0.3/Patchwork/runtime/node_modules/virtual-dom/node_modules/vtree/is-widget.js":20}],51:[function(require,module){module.exports=require(21)},{"/home/shashi/.julia/v0.3/Patchwork/runtime/node_modules/virtual-dom/node_modules/vtree/version.js":21}],52:[function(require,module){module.exports=require(44)},{"./is-vhook":48,"./is-vnode":49,"./is-widget":50,"./version":51,"/home/shashi/.julia/v0.3/Patchwork/runtime/node_modules/virtual-hyperscript/node_modules/vtree/vnode.js":44}],53:[function(require,module){module.exports=require(22)},{"./version":51,"/home/shashi/.julia/v0.3/Patchwork/runtime/node_modules/virtual-dom/node_modules/vtree/vpatch.js":22}],54:[function(require,module){module.exports=require(45)},{"./version":51,"/home/shashi/.julia/v0.3/Patchwork/runtime/node_modules/virtual-hyperscript/node_modules/vtree/vtext.js":45}],55:[function(require,module){function isArray(obj){return"[object Array]"===toString.call(obj)}var nativeIsArray=Array.isArray,toString=Object.prototype.toString;module.exports=nativeIsArray||isArray},{}],56:[function(require,module){function reorder(array,moves){if(arr){for(var copy=array.slice(0),i=0,l=array.length;l>i;i++){var move=moves[i];void 0!==move&&(array[move]=copy[i])}return array}}function patchObject(obj,patch){for(var key in patch)obj[key]=isObject(patch[key])&&isObject(obj[key])?patchObject(obj[key],patch[key]):patch[key]}isObject=require("is-object"),module.exports={reorder:reorder,patchObject:patchObject}},{"is-object":4}],57:[function(require,module){function patchVNode(root,patches){linkParents(root);for(var key in patches)if("a"!==key)if(patch=patches[key],isArray(patch))for(var i=0,l=patch.length;l>i;i++)mutateNode(patch[i].type,patch[i].vNode,patch[i].patch);else mutateNode(patch.type,patch.vNode,patch.patch);return root}function linkParents(vNode){if(vNode&&vNode.children)for(var children=vNode.children,i=0,l=children.length;l>i;i++)children[i].up=vNode,linkParents(children[i])}var mutateNode=require("./vnode-patch-op"),isArray=require("x-is-array");module.exports=patchVNode},{"./vnode-patch-op":58,"x-is-array":55}],58:[function(require,module){function applyPatch(type,vNode,patch){switch(type){case VPatch.REMOVE:return removeNode(vNode);case VPatch.INSERT:return insertNode(vNode,patch);case VPatch.VTEXT:return stringPatch(vNode,patch);case VPatch.VNODE:return vNodePatch(vNode,patch);case VPatch.ORDER:return patchUtil.reorder(vNode.children,patch),vNode;case VPatch.PROPS:return patchUtil.patchObject(vNode.properties,patch),vNode;default:return vNode}}function offsetCount(node,count){node&&(void 0!==node.count?(node.count=node.count+count,offsetCount(node.up,count)):node.count=count)}function removeNode(node){if(node){var up=(node.count,node.up),idx=up.children.indexOf(node);return idx>-1&&(up.children.splice(idx,1),offsetCount(up,-node.count-1)),delete node,null}}function insertNode(node,child){return node.children.push(child),offsetCount(node,child.count+1),child.up=node,node}function stringPatch(node,patch){return node.text=patch.text,node}function vNodePatch(node,patch){var up=node.up,idx=up.children.indexOf(node),count=patch.count||0;return idx>-1&&(up.children[idx]=patch,node.count!=count&&offsetCount(up,count-node.count)),node}var VPatch=(require("vtree/is-widget"),require("vtree/vpatch")),patchUtil=require("./patch-util.js");module.exports=applyPatch},{"./patch-util.js":56,"vtree/is-widget":50,"vtree/vpatch":53}],59:[function(){},{}]},{},[1]); </script>
   <script src="assets/bower_components/webcomponentsjs/webcomponents.min.js"></script>
</head>

<link rel="import" href="assets/basics.html">
<link rel="import" href="assets/widgets.html">

<body>
<div id="root">
</div>
<script>
    new Patchwork.Node("root", {"t":"div","p":{"className":"flow horizontal "},"c":[{"t":"div","p":{"style":{"padding":"4.0em","maxWidth":"62.0em"}},"c":[{"t":"div","p":{"className":"flow vertical "},"c":[{"t":"h1","p":{"className":"heading-2 ","style":{"fontWeight":200}},"c":[{"txt":"User Guide"}]},{"t":"div","p":{"style":{"height":"1.0em","width":"0.0px"}}},{"t":"span","p":{"className":"title-2 "},"c":[{"txt":"Reactive programming and Interactive GUIs"}]},{"t":"div","p":{"style":{"height":"1.0em","width":"0.0px"}}},{"t":"div","p":{"className":"md-paragraph "},"c":[{"t":"span","c":[{"txt":"The default and dominant pattern used for creating interactive GUIs on the Web has been the use of "}]},{"t":"em","p":{"className":"emph "},"c":[{"txt":"callbacks"}]},{"t":"span","c":[{"txt":". A "}]},{"t":"span","p":{"className":"font-bold "},"c":[{"txt":"callback"}]},{"t":"span","c":[{"txt":" is a function that is intended to be called at a later time when a certain event such as a key press, a mouse click or a HTTP response occurs. A callback usually contains code that will inspect the event (e.g. check which key was pressed, or look into the data from a HTTP response), and, usually, "}]},{"t":"em","p":{"className":"emph "},"c":[{"txt":"select"}]},{"t":"span","c":[{"txt":" and "}]},{"t":"em","p":{"className":"emph "},"c":[{"txt":"mutate"}]},{"t":"span","c":[{"txt":" elements on the page to reflect the intended changes to the UI (e.g. increment a counter, or updating a list using data that arrived in a HTTP response)"}]}]},{"t":"div","p":{"className":"md-paragraph "},"c":[{"t":"span","c":[{"txt":"In this pattern there is a wide conceptual gap between the programmer's intention and the code he/she actually needs to write: instead of simply expressing "}]},{"t":"em","p":{"className":"emph "},"c":[{"txt":"what"}]},{"t":"span","c":[{"txt":" needs to happen, you need to code every step of "}]},{"t":"em","p":{"className":"emph "},"c":[{"txt":"how"}]},{"t":"span","c":[{"txt":" it needs to happen."}]}]},{"t":"div","p":{"className":"md-paragraph "},"c":[{"t":"span","c":[{"txt":"Although the callback-style of programming has served web developers well, there is an increasing awareness that this style is unproductive: firstly, it is verbose, resulting in more code, and hence more surface area for bugs; secondly, explicitly maintaining document state and mutating the "}]},{"t":"code","c":[{"t":"span","c":[{"txt":"document"}]}]},{"t":"span","c":[{"txt":" object is a great way to end up with messy, non-reusable code. The focus of modern web frameworks like React, Rx JS, Elm and Mercury has been to provide better abstractions over the callback-style of programming. The following section talks about "}]},{"t":"em","p":{"className":"emph "},"c":[{"txt":"reactive programming"}]},{"t":"span","c":[{"txt":", Escher's choice of paradigm for making event-driven UIs "}]},{"t":"em","p":{"className":"emph "},"c":[{"txt":"without"}]},{"t":"span","c":[{"txt":" callbacks."}]}]},{"t":"div","p":{"style":{"height":"1.0em","width":"0.0px"}}},{"t":"h1","p":{"className":"md-heading heading-1 "},"c":[{"txt":"What is reactive programming?"}]},{"t":"div","p":{"style":{"height":"1.0em","width":"0.0px"}}},{"t":"div","p":{"className":"md-paragraph "},"c":[{"t":"em","p":{"className":"emph "},"c":[{"txt":"Reactive programming"}]},{"t":"span","c":[{"txt":" is a style of talking about event-driven programs in terms of "}]},{"t":"span","p":{"className":"font-bold "},"c":[{"txt":"streams of data"}]},{"t":"span","c":[{"txt":". For example, a keyboard gives out a "}]},{"t":"em","p":{"className":"emph "},"c":[{"txt":"stream of key presses"}]},{"t":"span","c":[{"txt":", a timer gives out a "}]},{"t":"em","p":{"className":"emph "},"c":[{"txt":"stream of timestamps"}]},{"t":"span","c":[{"txt":", a mouse gives out a "}]},{"t":"em","p":{"className":"emph "},"c":[{"txt":"stream of clicks"}]},{"t":"span","c":[{"txt":". You can create new signals by transforming, and combining other signals. An interactive UI is created by transforming signals from input widgets into a signal of UIs."}]}]},{"t":"span","p":{"className":"md-paragraph font-bold "},"c":[{"txt":"Signals"}]},{"t":"div","p":{"className":"md-paragraph "},"c":[{"t":"span","c":[{"txt":"Escher makes use of the "}]},{"t":"a","p":{"href":"https://github.com/JuliaLang/Reactive.jl"},"c":[{"t":"span","c":[{"txt":"Reactive.jl"}]}]},{"t":"span","c":[{"txt":" package for reactive programming. In Reactive, a "}]},{"t":"em","p":{"className":"emph "},"c":[{"txt":"stream of data"}]},{"t":"span","c":[{"txt":" is called a "}]},{"t":"span","p":{"className":"font-bold "},"c":[{"txt":"Signal"}]},{"t":"span","c":[{"txt":". The name Signal signifies the continuous nature of these streams"}]},{"t":"span","c":[{"txt":"–"}]},{"t":"span","c":[{"txt":"a signal always contains a value at any given time. Reactive.jl provides a toolkit of premitives to create, combine, and filter Signals. In the following section we discuss "}]},{"t":"code","c":[{"t":"span","c":[{"txt":"Input"}]}]},{"t":"span","c":[{"txt":" and "}]},{"t":"code","c":[{"t":"span","c":[{"txt":"consume"}]}]},{"t":"span","c":[{"txt":" "}]},{"t":"span","c":[{"txt":"–"}]},{"t":"span","c":[{"txt":" the two most important primives of Reactive.jl used to create signals."}]}]},{"t":"div","p":{"style":{"height":"1.0em","width":"0.0px"}}},{"t":"h1","p":{"className":"md-heading heading-1 "},"c":[{"t":"div","c":[{"t":"span","c":[{"txt":"Creating interaction: "}]},{"t":"code","c":[{"t":"span","c":[{"txt":"Input"}]}]},{"t":"span","c":[{"txt":", "}]},{"t":"code","c":[{"t":"span","c":[{"txt":"subscribe"}]}]},{"t":"span","c":[{"txt":" and "}]},{"t":"code","c":[{"t":"span","c":[{"txt":"consume"}]}]}]}]},{"t":"div","p":{"style":{"height":"1.0em","width":"0.0px"}}},{"t":"div","p":{"className":"md-paragraph "},"c":[{"t":"span","c":[{"txt":"An "}]},{"t":"em","p":{"className":"emph "},"c":[{"txt":"input signal"}]},{"t":"span","c":[{"txt":" is created using the "}]},{"t":"code","c":[{"t":"span","c":[{"txt":"Input"}]}]},{"t":"span","c":[{"txt":" constructor."}]}]},{"t":"span","p":{"className":"md-paragraph "},"c":[{"txt":"For example, in"}]},{"t":"code-mirror","p":{"lineNumbers":false,"className":"md-codeblock ","theme":"elegant","value":"    xᵗ = Input(0)","mode":"julia","readOnly":true}},{"t":"div","p":{"className":"md-paragraph "},"c":[{"t":"code","c":[{"t":"span","c":[{"txt":"xᵗ"}]}]},{"t":"span","c":[{"txt":" is an input signal containing a value of type Int64, initially, 0."}]}]},{"t":"div","p":{"className":"md-paragraph "},"c":[{"t":"span","c":[{"txt":"Updates to an input signal can be obtained from a widget in the UI. This is done by "}]},{"t":"em","p":{"className":"emph "},"c":[{"txt":"subscribing"}]},{"t":"span","c":[{"txt":" the input signal to a widget's updates."}]}]},{"t":"div","p":{"className":"md-paragraph "},"c":[{"t":"span","c":[{"txt":"To illustrate this, we will first create a slider widget. The "}]},{"t":"code","c":[{"t":"span","c":[{"txt":"slider"}]}]},{"t":"span","c":[{"txt":" function takes a range object and returns a slider widget. Here is a slider that can be used to select integer values between 0 to 360."}]}]},{"t":"code-mirror","p":{"lineNumbers":false,"className":"md-codeblock ","theme":"elegant","value":"    slider(0:360)","mode":"julia","readOnly":true}},{"t":"paper-slider","p":{"max":360,"secondaryProgress":0,"step":1,"min":0,"editable":true,"disabled":false,"value":0,"pin":false}},{"t":"div","p":{"className":"md-paragraph "},"c":[{"t":"span","c":[{"txt":"If you move the slider knob, you can see the value of the slider changing. Let us go ahead and "}]},{"t":"em","p":{"className":"emph "},"c":[{"txt":"subscribe"}]},{"t":"span","c":[{"txt":" slider movements to the signal "}]},{"t":"code","c":[{"t":"span","c":[{"txt":"xᵗ"}]}]},{"t":"span","c":[{"txt":"."}]}]},{"t":"code-mirror","p":{"lineNumbers":false,"className":"md-codeblock ","theme":"elegant","value":"    subscribe(slider(0:360), xᵗ)","mode":"julia","readOnly":true}},{"t":"paper-slider","p":{"max":360,"secondaryProgress":0,"step":1,"min":0,"editable":true,"disabled":false,"value":0,"pin":false}},{"t":"div","p":{"className":"md-paragraph "},"c":[{"t":"code","c":[{"t":"span","c":[{"txt":"subscribe(slider(0:360), xᵗ)"}]}]},{"t":"span","c":[{"txt":" "}]},{"t":"em","p":{"className":"emph "},"c":[{"txt":"returns a new slider"}]},{"t":"span","c":[{"txt":" which sends its updates to the xᵗ signal. The next step in making an interactive UI is to actually use the "}]},{"t":"code","c":[{"t":"span","c":[{"txt":"xᵗ"}]}]},{"t":"span","c":[{"txt":" signal to make something useful. This can be done using "}]},{"t":"code","c":[{"t":"span","c":[{"txt":"consume"}]}]},{"t":"span","c":[{"txt":"."}]}]},{"t":"div","p":{"className":"md-paragraph "},"c":[{"t":"code","c":[{"t":"span","c":[{"txt":"consume"}]}]},{"t":"span","c":[{"txt":" applies a function to every value of a given signal and results in a new signal. Specifically, the call "}]},{"t":"code","c":[{"t":"span","c":[{"txt":"consume(f, xᵗ)"}]}]},{"t":"span","c":[{"txt":" takes a function "}]},{"t":"code","c":[{"t":"span","c":[{"txt":"f"}]}]},{"t":"span","c":[{"txt":" and a signal "}]},{"t":"code","c":[{"t":"span","c":[{"txt":"xᵗ"}]}]},{"t":"span","c":[{"txt":" and returns a new signal, "}]},{"t":"code","c":[{"t":"span","c":[{"txt":"yᵗ"}]}]},{"t":"span","c":[{"txt":" which is such that every update "}]},{"t":"code","c":[{"t":"span","c":[{"txt":"x"}]}]},{"t":"span","c":[{"txt":" to "}]},{"t":"code","c":[{"t":"span","c":[{"txt":"xᵗ"}]}]},{"t":"span","c":[{"txt":" will update "}]},{"t":"code","c":[{"t":"span","c":[{"txt":"yᵗ"}]}]},{"t":"span","c":[{"txt":" with the value "}]},{"t":"code","c":[{"t":"span","c":[{"txt":"f(x)"}]}]},{"t":"span","c":[{"txt":"."}]}]},{"t":"div","p":{"className":"md-paragraph "},"c":[{"t":"span","c":[{"txt":"Let's say we want to use the slider to set the hue of a rectangle in the UI. The statement of this problem naturally guides the next step "}]},{"t":"span","c":[{"txt":"–"}]},{"t":"span","c":[{"txt":" we need a function that given the slider value, returns a rectangle with a specific hue."}]}]},{"t":"code-mirror","p":{"lineNumbers":false,"className":"md-codeblock ","theme":"elegant","value":"    using Color\n\n    with_hue(hue, tile=size(6em, 6em, empty)) =\n        fillcolor(HSV(hue, 0.6, 0.6), tile) # HSV color space","mode":"julia","readOnly":true}},{"t":"span","p":{"className":"md-paragraph "},"c":[{"txt":"Let's see if this function actually works by drawing colored squares for hues in the range 0:45:270."}]},{"t":"code-mirror","p":{"lineNumbers":false,"className":"md-codeblock ","theme":"elegant","value":"    hbox(intersperse(hskip(1em), map(with_hue, 0:45:270)))","mode":"julia","readOnly":true}},{"t":"div","p":{"style":{"padding":"1.0em"}},"c":[{"t":"div","p":{"className":"pack-center flow horizontal "},"c":[{"t":"div","p":{"className":"flow horizontal "},"c":[{"t":"div","p":{"style":{"height":"4.0em","backgroundColor":"#993D3D","width":"4.0em"}}},{"t":"div","p":{"style":{"height":"0.0px","width":"1.0em"}}},{"t":"div","p":{"style":{"height":"4.0em","backgroundColor":"#99823D","width":"4.0em"}}},{"t":"div","p":{"style":{"height":"0.0px","width":"1.0em"}}},{"t":"div","p":{"style":{"height":"4.0em","backgroundColor":"#6B993D","width":"4.0em"}}},{"t":"div","p":{"style":{"height":"0.0px","width":"1.0em"}}},{"t":"div","p":{"style":{"height":"4.0em","backgroundColor":"#3D9954","width":"4.0em"}}},{"t":"div","p":{"style":{"height":"0.0px","width":"1.0em"}}},{"t":"div","p":{"style":{"height":"4.0em","backgroundColor":"#3D9999","width":"4.0em"}}},{"t":"div","p":{"style":{"height":"0.0px","width":"1.0em"}}},{"t":"div","p":{"style":{"height":"4.0em","backgroundColor":"#3D5499","width":"4.0em"}}},{"t":"div","p":{"style":{"height":"0.0px","width":"1.0em"}}},{"t":"div","p":{"style":{"height":"4.0em","backgroundColor":"#6B3D99","width":"4.0em"}}}]}]}]},{"t":"div","p":{"className":"md-paragraph "},"c":[{"t":"span","c":[{"txt":"But "}]},{"t":"code","c":[{"t":"span","c":[{"txt":"with_hue"}]}]},{"t":"span","c":[{"txt":" is not enough. We want the slider to be present in the final UI as well, otherwise we have no way of updating a slider that is not displayed. So the full UI function which depends on the hue value can be something like:"}]}]},{"t":"code-mirror","p":{"lineNumbers":false,"className":"md-codeblock ","theme":"elegant","value":"   slider_and_huebox(hue) = vbox(\n        subscribe(slider(0:360), xᵗ),\n        \"The current hue is: $hue\",\n        with_hue(hue)\n    )","mode":"julia","readOnly":true}},{"t":"div","p":{"className":"md-paragraph "},"c":[{"t":"span","c":[{"txt":"Now to consume "}]},{"t":"code","c":[{"t":"span","c":[{"txt":"xᵗ"}]}]},{"t":"span","c":[{"txt":" to produce our desired result."}]}]},{"t":"code-mirror","p":{"lineNumbers":false,"className":"md-codeblock ","theme":"elegant","value":"    consume(slider_and_huebox, xᵗ)","mode":"julia","readOnly":true}},{"t":"div","p":{"className":"pack-center flow horizontal "},"c":[{"t":"div","p":{"className":"flow vertical "},"c":[{"t":"paper-slider","p":{"max":360,"secondaryProgress":0,"step":1,"min":0,"editable":true,"disabled":false,"value":0,"pin":false},"c":[{"t":"watch-state","p":{"trigger":"change","attr":"value","source":"","elem":"::parent","name":"_slider"}},{"t":"signal-transport","p":{"name":"_slider","signalId":"5726b736-51aa-498f-934a-58df3cd31ead"}},{"t":"stop-propagation","p":{"name":"_slider"}}]},{"t":"span","c":[{"txt":"The current hue is: 0"}]},{"t":"div","p":{"style":{"height":"4.0em","backgroundColor":"#993D3D","width":"4.0em"}}}]}]},{"t":"span","p":{"className":"md-paragraph "},"c":[{"txt":"Voila! We have our first interactive UI."}]},{"t":"div","p":{"className":"md-paragraph "},"c":[{"t":"span","c":[{"txt":"We can play with the "}]},{"t":"code","c":[{"t":"span","c":[{"txt":"slider_and_huebox"}]}]},{"t":"span","c":[{"txt":" function and make things more interesting:"}]}]},{"t":"code-mirror","p":{"lineNumbers":false,"className":"md-codeblock ","theme":"elegant","value":"   slider_and_huebox(hue) = vbox(\n        subscribe(slider(0:360), xᵗ),\n        \"The current hue offset is: $hue\",\n        hbox(intersperse(hskip(1em), map(with_hue, (0:45:270) + hue)))\n    )","mode":"julia","readOnly":true}},{"t":"div","p":{"className":"pack-center flow horizontal "},"c":[{"t":"div","p":{"className":"flow vertical "},"c":[{"t":"paper-slider","p":{"max":360,"secondaryProgress":0,"step":1,"min":0,"editable":true,"disabled":false,"value":0,"pin":false},"c":[{"t":"watch-state","p":{"trigger":"change","attr":"value","source":"","elem":"::parent","name":"_slider"}},{"t":"signal-transport","p":{"name":"_slider","signalId":"69876b0c-07fd-4901-84d1-c42048318d6b"}},{"t":"stop-propagation","p":{"name":"_slider"}}]},{"t":"span","c":[{"txt":"The current hue offset is: 0"}]},{"t":"div","p":{"className":"flow horizontal "},"c":[{"t":"div","p":{"style":{"height":"4.0em","backgroundColor":"#993D3D","width":"4.0em"}}},{"t":"div","p":{"style":{"height":"0.0px","width":"1.0em"}}},{"t":"div","p":{"style":{"height":"4.0em","backgroundColor":"#99823D","width":"4.0em"}}},{"t":"div","p":{"style":{"height":"0.0px","width":"1.0em"}}},{"t":"div","p":{"style":{"height":"4.0em","backgroundColor":"#6B993D","width":"4.0em"}}},{"t":"div","p":{"style":{"height":"0.0px","width":"1.0em"}}},{"t":"div","p":{"style":{"height":"4.0em","backgroundColor":"#3D9954","width":"4.0em"}}},{"t":"div","p":{"style":{"height":"0.0px","width":"1.0em"}}},{"t":"div","p":{"style":{"height":"4.0em","backgroundColor":"#3D9999","width":"4.0em"}}},{"t":"div","p":{"style":{"height":"0.0px","width":"1.0em"}}},{"t":"div","p":{"style":{"height":"4.0em","backgroundColor":"#3D5499","width":"4.0em"}}},{"t":"div","p":{"style":{"height":"0.0px","width":"1.0em"}}},{"t":"div","p":{"style":{"height":"4.0em","backgroundColor":"#6B3D99","width":"4.0em"}}}]}]}]},{"t":"div","p":{"style":{"height":"1.0em","width":"0.0px"}}},{"t":"div","p":{"className":"md-paragraph "},"c":[{"t":"code","c":[{"t":"span","c":[{"txt":"consume"}]}]},{"t":"span","c":[{"txt":" is not limited to a single input, if the first argument to "}]},{"t":"code","c":[{"t":"span","c":[{"txt":"consume"}]}]},{"t":"span","c":[{"txt":" is a function that takes N arguments, you can give N signals as the input to this function. To illustrate this, we will create a "}]},{"t":"a","p":{"href":"http://composejl.org/"},"c":[{"t":"span","c":[{"txt":"Compose"}]}]},{"t":"span","c":[{"txt":" graphic which contains a shape which can be selected from a group of radio buttons, rotated at a certain angle chosen using a slider."}]}]},{"t":"h1","p":{"className":"md-heading heading-1 "},"c":[{"txt":"Interpreting input"}]},{"t":"div","p":{"className":"md-paragraph "},"c":[{"t":"em","p":{"className":"emph "},"c":[{"txt":"Interpreters"}]},{"t":"span","c":[{"txt":" in Escher allow you to transform inputs"}]}]},{"t":"h1","p":{"className":"md-heading heading-1 "},"c":[{"t":"div"}]}]}]},{"t":"div","p":{"style":{"flexBasis":"0.0mm","flexGrow":1.0}}}]})
</script>
</body>
</html>
